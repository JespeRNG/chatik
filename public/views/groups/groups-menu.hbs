<!DOCTYPE html>
<html lang='en'>
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name='viewport' content='width=device-width, initial-scale=1.0' />

    <link rel='preconnect' href='https://fonts.googleapis.com' />
    <link rel='preconnect' href='https://fonts.gstatic.com' crossorigin />
    <link
      href='https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,100;0,300;0,400;0,700;0,900;1,100;1,300;1,400;1,700;1,900&display=swap'
      rel='stylesheet'
    />
    <title>Groups</title>
    <style>
      body { font-family: Lato, sans-serif; margin: 0; padding: 0;
      background-color: #f2f2f2; display: flex; flex-direction: column;
      align-items: center; } .wrapper { width: 100%; display: flex;
      flex-direction: column; align-items: center; } .header { display: flex;
      justify-content: space-between; align-items: center; width: 100%; height:
      80px; padding: 0 20px; background-color: #e7ecff; box-shadow: 0 0 10px
      rgba(0, 0, 0, 0.5); box-sizing: border-box; position: relative; z-index:
      1; } .header-title { font-size: 1.5em; color: #4a3f69; flex: 1;
      text-align: center; } .header-button {
      background: none; border: none; cursor: pointer; outline: none; }
      .header-button img { width: 25px; height: 25px; } .timeline-wrapper { width: 100%; max-width: 800px; box-sizing: border-box; } 
      .timeline { width: 100%; background-color: #fff; border-radius: 0px 0px 30px 30px; box-shadow: 0 10px 10px rgba(0, 0, 0, 0.5); transform: scale(0.75); transform-origin: center top; padding-bottom: 40px; display: flex; flex-direction: column; align-items: center; position: relative; z-index: 0; } 
      .timeline-item { padding: 20px; width: 80%; margin-top: 30px; margin-bottom: 20px; border-bottom: 2px solid #4a3f69; } 
      .timeline-item:last-child { margin-bottom: 0; } 
      .timeline-item-content { display: flex; align-items: flex-start; margin-bottom: 10px; } 
      .timeline-item-content-image { width: 110px; height: 110px; background-color: #ccc; border-radius: 50%; margin-right: 20px; } 
      .timeline-item-content-text { flex: 1; } 
      .timeline-item-content-header { display: flex; align-items: center; justify-content: space-between; } 
      .timeline-item-content-text-sender { font-size: 1.6em; color: #666; margin: 0; } 
      .timeline-item-content-text-date { font-size: 1.3em; font: bold; font-weight: 800; color: #4a3f69b2; } 
      .timeline-item-content-text-message { font-size: 1.7em; color: #000000; margin-top: 0px; font-weight: 500; } 
      .timeline-item-content-text-group-name { font-size: 1.4em; color: #2e1380; margin-top: 10px; } 
      .timeline-item-content-text-content-author { font-size: 1.2em; color: #333; } 
      .timeline-item-content-text-loadmore { display: block; width: 25%; padding: 20px 10px; background-color: #ffffff; border-radius: 50px; text-align: center; text-decoration: none; color: #4a3f69; font-size: 1.45em; font-weight: bold; margin: 40px auto 0; box-shadow: 0 5px 5px rgba(0, 0, 0, 0.5); }

      .popup-container {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.7);
        display: flex;
        justify-content: center;
        align-items: center;
        z-index: 10;
      }

      .popup-content {
        position: relative;
        width: 350px;
        padding: 20px;
        background-color: #fff;
        border-radius: 10px;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        text-align: center;
      }

      .close-popup {
        position: absolute;
        top: 10px;
        right: 10px;
        background: none;
        border: none;
        font-size: 1.5em;
        color: #333;
        cursor: pointer;
        padding: 0;
      }

      .close-popup:hover {
        color: #000;
      }

      .popup-content p {
        text-align: center;
        color: #4A3F69;
        margin-bottom: 10px;
        width: 100%;
      }

      .custom-close {
        background: none;
        border: none;
        font-size: 1.5em;
        color: #333;
        cursor: pointer;
        padding: 0;
      }

      .custom-close:hover {
        color: #000;
      }

      .popup-content input {
        width: 70%;
        padding: 10px;
        margin-bottom: 20px;
        border-radius: 5px;
        border: 1px solid #ccc;
        box-sizing: border-box;
      }

      .styled-button {
        background-color: #322A42;
        width: 30%;
        font-size: 18px;
        color: white;
        padding: 15px;
        box-shadow: 0 3px 4px rgba(0, 0, 0, 0.5);
        margin-top: 10px;
        margin-bottom: 30px;
        border-radius: 30px;
        cursor: pointer;
        border: none;
      }
    </style>
  </head>
  <body>
    <div class='wrapper'>
      <div class='header'>
        <button class='header-button' id="logoutButton">
          <img src='../../images/VectorLogout.png' alt='Logout' />
        </button>
        <p class='header-title'>Messages</p>
        <button class='header-button' id="addGroupButton">
          <img src='../../images/Vectorplus.png' alt='Create group' />
        </button>
      </div>
      <div class='timeline-wrapper'>
        <div class='timeline'>
        
        </div>
      </div>
    </div>
    <div id="popupContainer" class="popup-container" style="display: none;">
      <div class="popup-content">
        <button class="close-popup custom-close">&times;</button>
        <h1 style="font-size: 1.2em; color: #4a3f69; flex: 1; margin-bottom: 50px;">New group</h1>
        <p>Select participants</p>
        <input type="text" placeholder="Example: user1, user2" id="participantsInput">
        <p>Group name</p>
        <input type="text" id="groupNameInput">
        <p>Group photo</p>
        <input type="file" id="fileInput" accept=".jpg,.jpeg,.png,.pdf">
        <p></p>
        <button class="styled-button" id="createGroupButton">Create</button>
      </div>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.7.5/socket.io.js" integrity="sha512-luMnTJZ7oEchNDZAtQhgjomP1eZefnl82ruTH/3Oj/Yu5qYtwL7+dVRccACS/Snp1lFXq188XFipHKYE75IaQQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    {{!-- <script src="../../socket.io.js"></script> --}}
    <script src="../../commonJS/groups.menu.js"></script>
    <script>
      $(document).ready(function() {
        $('#logoutButton').on('click', function() {
          $.ajax({
            url: '/logout',
            type: 'POST',
            success: function(response) {
              window.location.href = '/signin';
            },
            error: function(xhr, status, error) {
              console.error('Logout failed:', error);
            }
          });
        });

        $('#addGroupButton').on('click', function() {
          $('#popupContainer').fadeIn();
        });

        $('.close-popup').on('click', function() {
          $('#popupContainer').fadeOut();
        });

      });
    </script>
  </body>
</html>